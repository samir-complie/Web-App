{% extends 'base_front.html.twig' %}

{% block title %}Livraisons - FrontOffice{% endblock %}

{% block body %}
        <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
            <div class="collapse navbar-collapse" id="ftco-nav">
                <ul class="navbar-nav ml-auto">
                  <li class="nav-item active"><a href="{{path('app_livraison_index')}}" class="nav-link">Livraison</a></li>
                  <li class="nav-item active"><a href="{{path('app_voiture_index')}}" class="nav-link">Voiture</a></li>
                  <li class="nav-item active"><a href="{{path('app_transporteur_index')}}" class="nav-link">Transporteur</a></li>
                </ul>
              </div>
            
          </nav>
    <div class="container mt-4">
        <h1 class="text-center text-success">Livraison index</h1>

    <table class="table table-hover mt-3">
    
        <thead class="thead-light">
            <tr>
                <th>Id</th>
                <th>Etat livraison</th>
                <th>Transporteur</th>
                <th>Voiture</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for livraison in livraisons %}
            <tr>
                <td>{{ livraison.id }}</td>
                <td>
                    {% if livraison.etatLivraison == 'Livrée' %}
                                <span class="badge badge-success">Livrée</span>
                            {% else %}
                                <span class="badge badge-danger">Non Livrée</span>
                            {% endif %}
                        </td>
                <td>{{ livraison.transporteur.nom }} {{ livraison.transporteur.prenom}}</td> 
                <td>{{ livraison.voiture.matricule }}</td>
                <td>
                    <a href="{{ path('app_livraison_show', {'id': livraison.id}) }}">Voir</a>
                    <a href="{{ path('app_livraison_edit', {'id': livraison.id}) }}">Modifier</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5" class="text-center text-muted">Aucune livraison trouvée </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="text-right">
        <a href="{{ path('app_livraison_new') }}" class="btn btn-success btn-lg mt-3">
            <i class="bi bi-plus"></i> Créer une nouvelle livraison 
        </a>
    </div>
</div>

{% endblock %}
